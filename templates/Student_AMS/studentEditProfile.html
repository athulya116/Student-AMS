{% extends './studentBase.html' %}
{% load static %}

{% block title %}Edit Profile - Student Portal{% endblock %}

{% block content %}
<main class="container flex-grow-1 pt-5 student-editprofile-content" style="margin-top:-50px; max-width: 700px;">
  <div class="card shadow-sm p-4 border-0">
    <h2 class="text-center mb-4 student-editprofile-heading">Edit Profile</h2>

    <form id="editProfileForm" class="student-editprofile-form" method="POST">
        {% csrf_token %}

      <div class="mb-3 input-group">
        <span class="input-group-text bg-white"><i class="fa fa-id-badge"></i></span>
        <input type="text" class="form-control" id="admn_no" name="admn_no" value="{{ student_profile.admn_no }}" readonly />    
      </div>


      <div class="mb-3 input-group">
        <span class="input-group-text bg-white"><i class="fa fa-user"></i></span>
        <input type="text" class="form-control" id="fullName" name="fullName" value="{{ student_profile.full_name }}" required />      
      </div>

      <div class="mb-3 input-group">
        <span class="input-group-text bg-white"><i class="fa fa-envelope"></i></span>
        <input type="email" class="form-control" id="email" name="email" value="{{ user.email }}" required />
      </div>

      <div class="mb-3 input-group">
        <span class="input-group-text bg-white"><i class="fa fa-phone"></i></span>
        <input type="tel" class="form-control" id="phone" name="phone" value="{{ student_profile.phone }}" required />
      </div>

      <div class="mb-3 input-group">
        <span class="input-group-text bg-white"><i class="fa fa-building"></i></span>
        <select class="form-select" id="department" name="department" disabled>
          <option value="{{ student_profile.department }}" selected>{{ student_profile.department }}</option>
        </select>
      </div>

      <div class="mb-3 input-group">
        <span class="input-group-text bg-white"><i class="fa fa-id-badge"></i></span>
        <input type="text" class="form-control" id="rollNumber" name="rollNumber" value="{{ student_profile.roll_no }}" readonly />
      </div>

      <div class="mb-4 input-group">
        <span class="input-group-text bg-white"><i class="fa fa-lock"></i></span>
        <input type="password" class="form-control" id="password" name="password" placeholder="Enter new password (optional)" />
      </div>

      <button type="submit" class="btn w-100 student-editprofile-submit-btn">Save Changes</button>
    </form>
  </div>
</main>
{% endblock %}
